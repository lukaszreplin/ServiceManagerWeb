<div *ngIf="isResult == false" class="alert alert-danger" role="alert">
  Nie znaleziono naprawy
</div>
<div class="row">
  <div class="col-sm-4 col-sm-offset-4">
    <form (submit)="onSave()">
      <div class="form-group">
        <label for="formGroupExampleInput">Twój adres email</label>
        <input type="text" class="form-control" [(ngModel)]="queries.email" name="email">
      </div>
      <div class="form-group">
        <label for="formGroupExampleInput2">Numer naprawy</label>
        <input type="text" class="form-control" [(ngModel)]="queries.repairNumber" name="repairNumber">
      </div>
      <input type="submit" class="btn btn-success" value="Sprawdź" />
    </form>
    
  </div>
</div>
<div class="row">
  <div class="col-sm-8 col-sm-offset-2" *ngIf="repair && isResult == true">
    <table class="table table-bordered" style="margin-top: 30px;">
      <tr>
        <th colspan="2">Wyniki wyszukiwania</th>
      </tr>
      <tr>
        <th colspan="2"><b>Dane naprawy</b></th>
      </tr>
      <tr>
        <td>Numer naprawy</td>
        <td>{{repair.number}}</td>
      </tr>
      <tr>
        <td>Data zarejestrowania</td>
        <td>{{repair.addedDate}}</td>
      </tr>
      <tr>
        <td>Aktualny status naprawy</td>
        <td>{{repair.status}}</td>
      </tr>
      <tr>
        <td>Planowana data ukończenia</td>
        <td>{{repair.expectedComplentionDate}}</td>
      </tr>
      <tr>
        <td>Aktualny status urządzenia</td>
        <td>{{repair.deviceStatus}}</td>
      </tr>
    </table>
  </div>
</div>
<div class="row">
  <div class="col-sm-8 col-sm-offset-2" *ngIf="repair && isResult == true">
    <div *ngIf="repair.repairActions.length == 0" class="alert alert-info" role="alert">
      Naprawa nie zawiera żadnych akcji
    </div>
    <table class="table table-hover">
      <thead>
      <tr>
        <th>Data akcji</th>
        <th>Rodzaj akcji</th>
        <th>Komentarz</th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let action of repair.repairActions">
          <td>{{ action.actionDate }}</td>
          <td>{{ action.repairActionDefinition }}</td>
          <td>{{ action.publicComment }}</td>
        </tr>
      </tbody>
    </table>
      <ul>
        
      </ul>
  </div>
</div>

